import{r as e,s as t,a,b as s,c as n,d as r,e as i,f as c,g as l,h as o,i as d,j as u,k as f,l as p,m as h,n as m,o as g,p as b,q as w,t as y,u as k,v,w as I,x,y as S,z as O,A as T,B as _,C as D,D as $,E as L,F as C,G as N,H as A,I as E,J as M,K as j,L as V,M as U,N as q,O as R,P as z,Q as B,R as J,S as F,T as P,U as W,V as H,W as K,X as G,Y,Z,_ as Q,$ as X,a0 as ee,a1 as te,a2 as ae,a3 as se,a4 as ne,a5 as re,a6 as ie,a7 as ce,a8 as le,a9 as oe,aa as de,ab as ue,ac as fe,ad as pe,ae as he,af as me,ag as ge,ah as be,ai as we,aj as ye,ak as ke,al as ve,am as Ie,an as xe,ao as Se,ap as Oe,aq as Te,ar as _e,as as De,at as $e,au as Le,av as Ce,aw as Ne,ax as Ae,ay as Ee,az as Me,aA as je,aB as Ve,aC as Ue,aD as qe,aE as Re,aF as ze,aG as Be,aH as Je,aI as Fe,aJ as Pe,aK as We,aL as He,aM as Ke,aN as Ge,aO as Ye,aP as Ze}from"./common-60e5e246.js";const Qe=2e3,Xe=350,et=e("❗","");var tt,at,st,nt,rt,it=ie+"execute",ct=ie+ye,lt=[t,a,s[4],s[8],n,r,i,c,l,o,s[15],d,u,f,p,h,m,m+"fg",m+"bg",g,b,w,y,k,v,I,x],ot={},dt={},ut={},ft={},pt={},ht={},mt={},gt={discarded:!1,status:"complete",url:Te},bt={},wt=new Map;async function yt(e,t){try{let a="PBKDF2",s="AES-GCM";t=await crypto.subtle.importKey("raw",We.encode(t),a,!1,["deriveKey"]);let n=16,r=28,i=Uint8Array.from(atob(e),(e=>e.charCodeAt(null))),c=i.slice(r),l=i.slice(n,r),o=i.slice(0,n),d=await crypto.subtle.deriveKey({name:a,salt:o,iterations:1e5,hash:"SHA-256"},t,{name:s,length:256},!1,["decrypt"]),u=await crypto.subtle.decrypt({name:s,iv:l},d,c);return He.decode(u)}catch(e){return""}}function kt(e,t,a){return It(t,a),N([be,o],(a=>{let n=()=>{K(t,{type:s[0],data:{catnow:e}},Ft.bind(null,t))};a.catnow===e?n():U({catnow:e}).then(n),a.other.menu&&Et(void 0,e)}))}function vt(){let e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,0).getTime()}function It(e,t){!t&&performance.now()-pt[e]<Qe||(S.setBadgeText({tabId:e,text:""},Q),ot={},ut={},ft={},bt={})}function xt(e,t){try{wt.get(t||Nt.tI).postMessage(e)}catch(e){t&&Ot(oe("18d"),t)}}function St(t){N([s[14],s[15]],(a=>{let n=Je+"\n"+oe(e("hox"))+a[s[15]],r=a[s[14]],i=e=>{S.setTitle({tabId:e,title:n},Q),S.getBadgeText({tabId:e},(t=>{D.lastError||t===et&&S.setBadgeText({tabId:e,text:""},Q)}))};n.includes(Be)&&(n+=oe(e("FLm"))+(10-+r[s[7]].toString(16))),t&&i(t),j.query(gt,(e=>{if(!D.lastError)try{for(const a of e)a.id!==t&&i(a.id)}catch(e){}}))}))}function Ot(e,t){$e.executeScript({args:[e],func:e=>alert(e),target:{tabId:t}},Q)}function Tt(e){return e.replace(/^# .*$/gm,"").trim()}function _t(e,t=""){S.setIcon({tabId:e,path:{16:Y+"16"+t+Z,24:Y+"24"+t+Z,32:Y+"32"+t+Z}},Q)}async function Dt(){try{let e=await fetch("https://www.googleapis.com/oauth2/v2/certs");U({k:await e.json()})}catch(e){}}function $t(e){e?N([s[4],s[14],i,o,f],(t=>{let a=t.spreadsheetid,n=t[s[4]],r=t[s[14]];t.other.bisync&&a&&n&&J({callback:Lt,headers:te(e),payload:{function:Ce,parameters:{docId:a,e:n,o:r,lastMod:t.lastmod}},url:se}).catch((e=>{}))})):j.query(gt,(e=>{if(!D.lastError)try{for(const t of e)S.setTitle({tabId:t.id,title:Je+"\n"+oe("bf7")},Q),S.setBadgeText({tabId:t.id,text:et},Q)}catch(e){}}))}function Lt(e){let t=e.response.result;t.data&&U({isRestored:!0},(()=>{U(t.data)}))}function Ct(e){let t=e.response.result;if(ee({type:"hSS"}),!t.ok)return ee({type:"uST",data:{error:t.error,nS:Nt.nS}}),delete Nt.nS,void xt({type:"eCB",data:oe("rd7")});ee({type:"uST",data:{nS:Nt.nS}}),delete Nt.nS;let a={lastmod:t.lastmod||""};t.id&&typeof t.id===Ge&&(a.spreadsheetid=t.id),U(a).then((()=>{xt({type:"eCB"}),ee({type:"uCS",data:a})}))}function Nt(e){ht=Object.assign(ht,e),clearTimeout(st),st=setTimeout((()=>{let e=ht;ht={},X({interactive:!1,callback:At.bind(null,e)})}),Qe)}function At(e,t){t&&e&&N([s[4],s[8],s[14],p,f],(a=>{let n=a[s[4]],r=a[s[8]],i=a[s[14]],c={data:e,docId:a.spreadsheetid,docName:a.spreadsheetname,e:n,i:r,o:i};i[s[10]]&&n&&(ee({type:"sSS"}),J({callback:Ct,headers:te(t),payload:{function:ae,parameters:c},url:se}).catch((e=>{})))}))}function Et(e,t,a){N([ge,be,we,l,o,ye],(async n=>{if(await T.removeAll(),!n.other.menu)return;e||(e=n.cats),void 0===t&&(t=n.catnow),a||(a=n.allhotkey||"");let r=[ne],i=[re],c=["audio",re,"frame","image","link","page","selection","video"],l=n.textclips;Mt({id:ie+ce+"_"+le,contexts:i,title:oe("18p")}),Mt({id:ie+ce+"_"+ne,contexts:r,title:oe("jj7")}),Mt({id:it,contexts:r,title:oe("crn")});let o=/ *> */,d=/\W/g,u="⬤   ",f=it+"_",p={id:f+"1",parentId:it,contexts:r,title:oe("q31")+(a?` (${a.replace(de,"")})`:"")},h={id:f+"2",parentId:it,contexts:r,title:oe("wcy")},m=e=>{Mt(p),Mt(h),e&&Mt({id:it+"_"+ue,parentId:it,contexts:r,type:ue})};switch(n.menu){case 0:{1===t&&(p.title=u+p.title),2===t&&(h.title=u+h.title),m(!0);let a=[];for(let n,i,c,l=0;l<e.length;++l){n=e[l][s[13]].split(o),i=c=it;for(let e=0;e<n.length;++e)e<n.length-1?i+="_"+n[e].replace(d,"_").toLowerCase():i=f+(l+5),a.includes(i)||(Mt({id:i,parentId:c,contexts:r,title:(t===l+5?u:"")+n[e]}),a.push(i)),c=i}break}case 1:{1===t&&(p.title=u+p.title),2===t&&(h.title=u+h.title),m(!0);let a=function(e){let t={},a=/[\u0300-\u036f]/g,n=/^\d+/,r=e=>e.normalize("NFD").replace(a,""),i=e=>n.test(e)?e.match(n)[0]:r(e.slice(0,1)).toUpperCase();e.forEach(((e,a)=>{let n=i(e[s[13]].trim());e.id=a+5,t[n]||(t[n]=[]),t[n].push(e)}));let c=Object.keys(t).sort(((e,t)=>{let a=parseInt(e),s=parseInt(t);return isNaN(a)||isNaN(s)?e.localeCompare(t):a-s})),l={};return c.forEach((e=>{l[e]=t[e]})),l}(e);for(const e in a){Mt({id:f+"_"+e,parentId:it,contexts:r,title:e});for(let n,i=0;i<a[e].length;++i)n=t===a[e][i].id,Mt({id:f+a[e][i].id,parentId:f+"_"+e,contexts:r,title:(n?u:"")+a[e][i][s[13]]+(a[e][i][s[7]]?` (${a[e][i][s[7]].replace(de,"")})`:"")}),n&&T.update(f+"_"+e,{title:u+e},Q)}break}case 2:p.type=h.type=fe,p.checked=1===t,h.checked=2===t,m();for(let a=0;a<e.length;++a)e[a][s[13]].startsWith(pe)||Mt({id:f+(a+5),parentId:it,contexts:r,type:fe,title:e[a][s[13]]+(e[a][s[7]]?` (${e[a][s[7]].replace(de,"")})`:""),checked:t===a+5})}if(l.length){Mt({id:ct,contexts:i,title:oe("8i4")});let e=[];for(let t,a,s,n=0;n<l.length;++n){t=l[n].split("\n")[0].trim().split(o),a=s=ct;for(let n=0;n<t.length;++n)a+="_"+t[n].replace(d,"_").toLowerCase(),e.includes(a)||(Mt({id:a,parentId:s,contexts:i,title:t[n]}),e.push(a)),s=a}}else T.remove(ct,Q);Mt({id:ie+ue,contexts:L?r:c,type:ue}),Mt({id:ie+he,contexts:L?r:c,title:oe("w9t")}),Mt({id:ie+me,contexts:r,title:oe("v1k")})}))}function Mt(e){T.create(e,Q)}function jt(e,t,a,s,n){void 0!==t&&t.id||(t=e),K(t.id,{type:"sW",data:{editable:e.editable&&!!a,frame:!!e.frameId,slug:n,type:s}},Ft.bind(null,t.id))}function Vt(e){if(!e)return!1;for(const t in e){if(4===e[t][s[19]])return!0}return!1}function Ut(e){if(!e)return!1;let t=/^(\w+) = (.+)$/;for(let a,s=0;s<e.length;++s)if("#"!==e[s][0]&&(a=e[s].match(t),a&&(a=a.slice(1),a[1].startsWith(Ie))))return!0;return!1}async function qt(){if(await z())try{let e=await N([s[4],s[14],xe,Se]);if(!Object.keys(e).length)return;let t=e[s[4]],a=(e[s[14]]||{})[s[9]];if(tt=t+":"+q,a>=2&&t){let a,s=e.rules?JSON.parse(e.rules):a,n=e.variables||a;if(Ut(n)||Vt(s)){let e={t:"N8VD=",f:"N8VD="};B(e),J({callback:e=>{e.ok&&e._&&zt(s,n,e._)},headers:{"Request-ID":F},url:P.replace("#",W(t))+`_?${H}=${W(e)}`}).catch((e=>{}))}}}catch(e){}}async function Rt(e){if(await z())try{let t={ids:e?[e]:s.slice(0,2)};(await Oe.getScripts(t)).length&&await Oe.unregister(t),e||D.onUserScriptMessage.removeListener(Jt)}catch(e){}}async function zt(e,t,a){if(!await z())return;let n,r,i="",c="";try{if(r=s[2],!(await Oe.getScripts({ids:[r]})).length){let e={id:r,allFrames:!0,js:[{code:await yt(a[0],tt)+await yt(a[4],tt)+await yt(a[8],tt)}],matches:Te,runAt:_e,world:De};await Oe.configureWorld({csp:"script-src 'self' 'unsafe-eval'",messaging:!0}),D.onUserScriptMessage.addListener(Jt),await Oe.register([e])}}catch(e){}if(e){let t=[];r=s[0],i=await yt(a[2],tt);for(const a in e){let n=e[a];n[s[19]]===Math.pow(2,2)&&t.push({code:i.replace("#",a).replace("%",`\n${n[s[21]]}\n`)})}if(t.length){n={id:r,allFrames:!0,js:t,matches:Te,runAt:_e,world:De};try{(await Oe.getScripts({ids:[r]})).length?await Oe.update([n]):await Oe.register([n])}catch(e){}}else Rt(r)}if(t){let e=/(['"`])/g,i=/;$/,l=/^(\w+) = (.+)$/,o="";r=s[1];for(let a,s=0;s<t.length;++s)"#"!==t[s][0]&&(a=t[s].match(l),a&&(a=a.slice(1),a[1].startsWith(Ie)?o+=`'${a[0]}':${a[1].replace(Ie,"").replace(i,"")},`:o+=`'${a[0]}':"${a[1].replace(e,"\\$1")}",`));if(o){c=await yt(a[6],tt),n={id:r,allFrames:!0,js:[{code:c.replace("@",o)}],matches:Te,runAt:_e};try{(await Oe.getScripts({ids:[r]})).length?await Oe.update([n]):await Oe.register([n])}catch(e){}}else Rt(r)}}function Bt(e){e.onMessage.removeListener(Jt),wt.delete(e.sender.tab.id),D.lastError}function Jt(t,n,r){let c=n?.tab?.id||t.tabId;if(!c)return;let l=t.data;switch(t.type){case"cH":K(c,{type:"cH"});break;case"eR":return kt(l.catnow,c,l.force).finally((()=>{r({})})),!0;case"gTI":return r({tabId:c}),!0;case"iU":return fetch(l.url,Ne).then((e=>{e.ok?e.text().then((e=>{r({csv:e.trim()})})).catch((e=>{r({error:oe("f1s")})})):r({error:oe("3ph",Ae(e))})})).catch((e=>{r({error:oe("d08",e.message)})})),!0;case"oO":D.openOptionsPage();break;case"rB":j.query(gt,(e=>{if(!D.lastError)try{for(const t of e)S.getBadgeText({tabId:t.id},(e=>{D.lastError||e===et&&(S.setTitle({tabId:t.id,title:Je},Q),S.setBadgeText({tabId:t.id,text:""},Q))}))}catch(e){}}));break;case"rC":It(c,l.force);break;case"rD":X({interactive:!1,callback:$t});break;case"rT":return X({interactive:!1,callback:e=>{e?fetch("https://accounts.google.com/o/oauth2/revoke?token="+e).then((e=>{e.ok?(l[s[3]]&&J({callback:e=>{e.ok&&U({i:"",t:""})},headers:{"Request-ID":F},method:"DELETE",url:P.replace("#",W(l[s[4]]))}).catch((e=>{})),r({ok:!0})):r({ok:!1,error:Ae(e)})})).catch((e=>{r({ok:!1,error:e})})).finally((()=>{Ye.removeCachedAuthToken&&Ye.removeCachedAuthToken({token:e},(()=>{D.lastError}))})):r({ok:!1})}}),!0;case"sC":return N([s[4],s[8],s[14],i,o,f],(e=>{let t=e.spreadsheetid,n=e[s[4]],i=e[s[8]],d=e[s[14]],u=e.other,f=l.cat,p=l.backup,h=!!d[s[10]],m=!!(!!d[s[11]]&&h&&n&&i&&t);function g(){N([a,be,we,o],(e=>{let t,a=e.cats;if(p)for(let e=0,n=a.length;e<n;++e)if(a[e][s[13]]===f[s[13]]){t=a[e][s[10]];break}if(!t)do{t=s[2]+e.catcount++}while(a.some((e=>e[s[10]]===t)));if(a.push({k:t,n:f[s[13]],s:f[s[18]]||""}),!p){for(let t=0,n=a.length;t<n;++t)if(a[t][s[13]]===f[s[13]]){e.catnow=t+5;break}e.other.menu&&Et(a,e.catnow)}e.lastmod=(new Date).toISOString(),U(e).then((()=>{let a={catnow:e.catnow,cat:t};m&&(Nt.tI=c,Nt(a)),r(a)}))}))}m&&u.bisync?X({interactive:!1,callback:a=>{a?J({callback:e=>{let t=e.response.result;t.data?U(t.data).then(g):g()},headers:te(a),payload:{function:Ce,parameters:{docId:t,e:n,o:d,k:[oe("ciy").toLowerCase()+s[18]],lastMod:e.lastmod}},url:se}).catch((e=>{r({})})):r({})}}):g()})),!0;case"sR":N([s[4],s[8],s[14],i,o,f],(e=>{let t=e.spreadsheetid,a=e[s[4]],n=e[s[8]],r=e[s[14]],i=e.other,c=l.backup,o=!!r[s[10]];function d(){N([be,we,u,xe],(e=>{let t,a,n=/forms\.(microsoft|office)\.com\/pages\/responsepage/i,r=l.rules[0][s[2]],o="",d=[],u=JSON.parse(e.rules);for(let a=0,n=e.cats.length;a<n;++a){if(e.cats[a][s[10]]===r){t=a,c||(e.catnow=t+5);break}a===n-1&&(r="",e.catnow=2)}e.cats[t]&&(o=Tt(e.cats[t][s[18]]),o&&d.push(o)),i.menu&&!c&&Et(void 0,e.catnow),a=Object.keys(u).filter((e=>u[e][s[2]]===r));for(let t,f,p,h,m,g,b,w=0,y=l.rules.length;w<y;++w){h=l.rules[w][s[19]],t=l.rules[w][s[13]],m=l.rules[w][s[21]],p=l.rules[w][s[18]],g=!0,b=!1,p&&(d.indexOf(p)<0&&d.push(p),b=p.includes("docs.google.com/forms")||n.test(p));for(let e=0,n=a.length;e<n;++e)if(0===w&&u[a[e]][s[18]]&&d.indexOf(u[a[e]][s[18]])<0&&d.push(u[a[e]][s[18]]),!(h!==u[a[e]][s[19]]||t!==Tt(u[a[e]][s[13]])||p!==Tt(u[a[e]][s[18]])&&p!==o||b&&3===h&&m!==u[a[e]][s[21]])){u[a[e]][s[21]]=m,g=!1;break}if(g){do{f=s[17]+e.rulecount++}while(u[f]);u[f]={t:h,n:t,v:m,s:p,o:c?0:i.overwrite,c:r},a.push(f)}}if(e.cats[t]){for(let e=0;e<a.length;++e)u[a[e]][s[18]]=d.length>1?u[a[e]][s[18]]||o:"";e.cats[t][s[18]]=d.length>1?"":o||d[0]}e.rules=JSON.stringify(u),e.lastmod=(new Date).toISOString(),U(e)}))}!!r[s[11]]&&o&&a&&n&&t&&i.bisync?X({interactive:!1,callback:s=>{s&&J({callback:e=>{let t=e.response.result;t.data?U(t.data).then(d):d()},headers:te(s),payload:{function:Ce,parameters:{docId:t,e:a,o:r,k:[xe],lastMod:e.lastmod}},url:se}).catch((e=>{}))}}):d()}));break;case"sUS":l&&async function(e){await z()&&N([s[4],xe,Se],(t=>{tt=t[s[4]]+":"+q,zt(JSON.parse(t.rules),t.variables,e)}))}(l);break;case"sU":clearTimeout(bt[s[1]]),bt[s[1]]=setTimeout((t=>{jt({editable:!1},n.tab,!1,oe(e("MHj")),t?oe(e("kJs")):void 0)}),Xe,l);break;case"sS":Nt.tI=c,Nt(l);break;case"uUS":Rt();break;case"uCM":Et(void 0,l.catnow);break;case"uIT":St();break;case"uS":if(void 0===dt[c]&&(dt[c]=0),void 0===ut[c])ut[c]=new Set(l.filled),ft[c]=ut[c].size;else for(let e=0;e<l.filled.length;++e)ut[c].add(l.filled[e]);dt[c]+=l.fields,N([s[14],o],(async e=>{let t=e[s[14]];if(void 0!==bt[c]&&-1!==bt[c]||(bt[c]=-1,dt[c]&&(++bt[c],_t(c,e.other.manual?"-"+G:""))),e.other.badge&&ut[c]&&ut[c].size!==ft[c]&&(S.setBadgeText({tabId:c,text:(ut[c].size||"")+""},Q),ft[c]=ut[c].size),e.other.sound&&ut[c]?.size&&0===bt[c])if(++bt[c],Le)await async function(){if(Le)try{await Le.createDocument({justification:x+" effect",reasons:["AUDIO_PLAYBACK"],url:"offscreen"+ve})}catch(e){}}(),ee({type:"pS"});else try{new Audio(D.getURL(`${x+s[18]}/${x}.ogg`)).play()}catch(e){}clearTimeout(bt[s[0]]),bt[s[0]]=setTimeout((e=>{let t=e[s[14]],a=ut[e[s[13]]]?.size;a?(void 0===ot[e[s[13]]]&&(t[s[7]]=Math.min(parseInt(+t[s[7]].toString(16)+Math.min(a,1),16),16),ot[e[s[13]]]=!0),t[s[8]]+=a,U({o:t}).then(St)):St()}),Qe,{o:t,n:c}),pt[c]=performance.now()}));break;case"vU":{let e=P.replace("#",W(l[s[4]]))+`?${H}=${W(l)}`;return delete l[s[4]],J({callback:r,headers:{"Request-ID":F},url:e}).catch((e=>{r({ok:!1,error:e.message})})),!0}case"aR":at=at.concat(l);break;case"gR":at=[],K(c,{type:s[2],data:{cat:l}},Pt.bind(null,c));break;default:if(t._afVars){let e={};e._afVars=t._afVars,U(e),$e.executeScript({args:[t._afVars],func:e=>{_afVars=e},target:{tabId:c},world:De},Q)}}r({})}function Ft(e){let t=D.lastError;t&&t.message?.includes(oe("keb"))&&Ot(oe("obz"),e)}function Pt(e,t){!D.lastError&&wt.get(e)&&setTimeout((()=>{xt({type:"gR",data:at,field:t.field},e)}),100)}function Wt(t){if(t.name===s[0])N([s[4],s[14],R[0],R[1],R[5],o],(async t=>{let a,n=t[s[4]]||"",r=t[R[0]]||[],i={},c=t[s[14]]||{},l=t[R[1]]?{}:a,o={k:c},d=t[R[5]]||a,u=!!c[s[10]],f=async()=>{if(i[s[14]]=c,i.lastAlarm=Date.now(),u||(i[s[8]]=""),t.other.expirecats){let e=/\bExpires: *(\d+[/-]\d+[/-]\d+)/i,t=new Set,a=!1,n=(new Date).setHours(0,0,0,0);if(r=r.filter((r=>{let i=r[s[13]].match(e)||[];return!i[1]||(!(n>=function(e){let[t,a,s]=e.split("-").map(Number);return new Date(t,a-1,s)}(i[1]).getTime())||(a=!0,t.add(r[s[10]]),!1))})),l&&a){for(const e in l)t.has(l[e][s[2]])&&delete l[e];i=Object.assign(i,{cats:r,rules:JSON.stringify(l)})}}await U(i),await Dt(),St()};if(l)try{l=JSON.parse(t[R[1]])}catch(e){}if(B(o),n){let t=P.replace("#",W(n)),a=c[s[+oe(e("nfq"))]];tt=n+":"+q,fetch(D.getURL(he+ve)).then((e=>e.text())).then((e=>{o[s[19]]=Me(function(e){let t=Ze.slice(0,-1)+">",a=e.split("<"+t)[1]?.split("</"+t)[0];if(!a)return 0;let s=a.match(/<li>/g);return s?s.length:0}(e)+""),o[s[5]]=Me(function(e){let t=e.match(/<span id="yearnow"><\/span>&nbsp;([^<]+)/s);return t?t[1]:""}(e)),J({callback:async(e,t)=>{if(!e.ok)return;e[s[0]]!==t&&(c[s[0]]=e[s[0]]),e[s[1]]!==t&&(c[s[1]]=e[s[1]]),e[s[2]]!==t&&(c[s[2]]=e[s[2]]),e[s[3]]!==t&&(c[s[3]]=e[s[3]]),e[s[4]]!==t&&(c[s[4]]=e[s[4]]),e[s[5]]!==t&&(c[s[5]]=e[s[5]]),e[s[6]]!==t&&(c[s[6]]=e[s[6]]),e[s[7]]!==t&&(c[s[7]]=e[s[7]]),e[s[8]]!==t&&(c[s[8]]=e[s[8]]),e[s[9]]!==t&&(c[s[9]]=e[s[9]]),e[s[10]]===t&&(c[s[10]]=e[s[10]]),e[s[11]]!==t&&(c[s[11]]=e[s[11]]),e[s[12]]!==t&&(c[s[12]]=e[s[12]]),e[s[13]]!==t&&(c[s[13]]=e[s[13]]),e[s[14]]!==t&&(c[s[14]]=e[s[14]]),e[s[15]]!==t&&(c[s[15]]=e[s[15]]),e[s[16]]!==t&&(c[s[16]]=e[s[16]]),e[s[17]]===t&&(c[s[17]]=e[s[17]]),e[s[18]]!==t&&(c[s[18]]=e[s[18]]),e[s[19]]!==t&&(c[s[19]]=e[s[19]]),e[s[20]]!==t&&(c[s[20]]=e[s[20]]),e[s[21]]!==t&&(c[s[21]]=e[s[21]]),e[s[22]]!==t&&(c[s[22]]=e[s[22]]),e[s[23]]!==t&&(c[s[23]]=e[s[23]]),e[s[24]]!==t&&(c[s[24]]=e[s[24]]),e[s[25]]!==t&&(c[s[25]]=e[s[25]]);let n=c[Ie[0]];a!==n&&(e._&&n>1?await zt(l,d,e._):await Rt()),await f()},headers:{"Request-ID":F},url:`${t}_?${H}=${W(o)}`}).catch((e=>{}))})).catch((e=>{}))}else je(c,!0),await Rt(),await f()}))}S.onClicked.addListener(jt),O.onAlarm.addListener(Wt),T.onClicked.addListener((function(e,t){if(e.menuItemId===ie+he)D.openOptionsPage();else if(e.menuItemId===ie+me)ke(me+ve,t.id);else if(e.menuItemId.indexOf("_"+ce)>-1)jt(e,t,e.menuItemId.indexOf(le)>-1,"gen");else if(e.parentMenuItemId.startsWith(it)){kt(+e.menuItemId.slice((it+"_").length),t.id,!0)}else e.menuItemId.startsWith(ct)&&K(t.id,{type:"iT",data:{id:e.menuItemId.replace(ct+"_","")}},Ft.bind(null,t.id))})),_.onCommand.addListener((function(e){switch(e){case"exe_"+Ue+"_"+qe:N(be,(async e=>{let t=await Re();t&&kt(e.catnow,t,!0)}));break;case Ve+"_"+he:D.openOptionsPage();break;case"toggle_"+G:N(o,(async e=>{let t=e.other;t.manual=+!t.manual,j.query(gt,(e=>{if(!D.lastError)for(const a of e)dt[a.id]&&_t(a.id,t.manual?"-"+G:"")})),await U({other:t})}))}})),D.onConnect.addListener((function(e){try{wt.set(e.sender.tab.id,e),e.onDisconnect.addListener(Bt),e.onMessage.addListener(Jt)}catch(e){}})),D.onInstalled.addListener((async function(e){let t,a,n,r={cats:[{k:"c1",n:"Sample address",s:"greenido.github.io"}],rules:JSON.stringify({r1:{t:0,n:"/^(cc-)?name$/",v:"Full name",s:"",o:1,c:"c1"},r2:{t:0,n:'"honorific-prefix"',v:"Prefix/Title",s:"",o:1,c:"c1"},r3:{t:0,n:"/^(cc-)?given-name$/",v:"First name",s:"",o:1,c:"c1"},r4:{t:0,n:"/^(cc-)?additional-name$/",v:"Middle name",s:"",o:1,c:"c1"},r5:{t:0,n:"/^(cc-)?family-name$/",v:"Last name",s:"",o:1,c:"c1"},r6:{t:0,n:'"honorific-suffix"',v:"Suffix",s:"",o:1,c:"c1"},r7:{t:0,n:"street-address",v:"Street address - line 1, Street address - line 2, Street address - line 3",s:"",o:1,c:"c1"},r8:{t:0,n:"address-line1",v:"Street address - line 1",s:"",o:1,c:"c1"},r9:{t:0,n:"address-line2",v:"Street address - line 2",s:"",o:1,c:"c1"},r10:{t:0,n:"address-line3",v:"Street address - line 3",s:"",o:1,c:"c1"},r11:{t:0,n:"address-level2",v:"City/Town/Village",s:"",o:1,c:"c1"},r12:{t:0,n:"address-level1",v:"State/Province",s:"",o:1,c:"c1"},r13:{t:0,n:"postal-code",v:"Postal/Zip code",s:"",o:1,c:"c1"},r14:{t:0,n:'"country"',v:"Country code",s:"",o:1,c:"c1"},r15:{t:0,n:'"country-name"',v:"Country name",s:"",o:1,c:"c1"},r16:{t:0,n:'"organization-title"',v:"Job title",s:"",o:1,c:"c1"},r17:{t:0,n:'"organization"',v:"Company/Organization",s:"",o:1,c:"c1"},r18:{t:0,n:'"email"',v:"Email",s:"",o:1,c:"c1"},r19:{t:0,n:'"username"',v:"Username",s:"",o:1,c:"c1"},r20:{t:0,n:'"tel"',v:"1-888-888-8888",s:"",o:1,c:"c1"},r21:{t:0,n:'"tel-country-code"',v:"1",s:"",o:1,c:"c1"},r22:{t:0,n:'"tel-national"',v:"888-888-8888",s:"",o:1,c:"c1"},r23:{t:0,n:'"tel-area-code"',v:"888",s:"",o:1,c:"c1"},r24:{t:0,n:'"tel-local"',v:"888-8888",s:"",o:1,c:"c1"},r25:{t:0,n:'"tel-extension"',v:"Extension",s:"",o:1,c:"c1"}}),advanced:[],exceptions:[],textclips:[],variables:[],lastAlarm:null,lastUpdate:null},i={allhotkey:"",attributesoff:"",backup:30,catcount:2,catnow:5,closeinfobar:1,delay:.5,e:"",f:"",i:"",importurl:"",lastmod:"",menu:2,o:{a:0,b:0,c:0,d:0,e:0,f:0,g:0,h:0,i:0,j:0,k:0,l:0,m:0,n:0,o:0,p:0,q:0,r:0,s:0,t:0,u:0,v:0,w:0,x:0,y:0,z:0},other:{activecat:1,attributesoff:0,backup:0,badge:1,bisync:0,captchas:0,closeinfobar:1,debug:0,delay:0,exeinorder:0,expirecats:0,filtercats:0,fluid:1,hidebackup:0,ietextbox:0,manual:0,mask:1,menu:1,overwrite:1,parselabels:0,popup:1,randdelay:1,reveal:0,review:1,sitefilters:1,skiphidden:0,sound:0,textexpansion:0,theme:0,tooltips:1,turbo:0,vars:1},p:Be,reveal:0,review:1,rulecount:26,sitefilters:0,spreadsheetid:"",spreadsheetname:Je+" "+Fe,states:{d:2,e:1,f:0,fs:0,ft:0,gs:1,i:1,ie:1,im:1,o:1,p:0,s:1,tb:306,ww:0},textexpansion:":",theme:2,themebg:"",themefg:"",ver:Pe};try{t=await $.local.get(r),a=await $.sync.get(i)}catch(e){t=r,a=i}switch(Object.hasOwn(t,A+E)&&(a.importurl=t.autoimport,delete t.autoimport),e?.reason){case D.OnInstalledReason.INSTALL:j.create({url:V+"quickstart"});break;case D.OnInstalledReason.UPDATE:if(null===t.lastUpdate){for(const e of t.cats)e[s[18]]&&(e[s[18]]=M(e[s[18]]));try{n=JSON.parse(t.rules)}catch(e){n={}}for(const e in n){let t=n[e];t[s[13]]=M(t[s[13]]),t[s[18]]&&(t[s[18]]=M(t[s[18]]))}t.rules=JSON.stringify(n);for(let e=0;e<t.exceptions.length;++e)t.exceptions[e]=M(t.exceptions[e]);delete a.migrated}t.lastUpdate=Date.now()}await U({...t,...a}),await O.get(s[0])||await O.create(s[0],{periodInMinutes:1440,when:vt()}),a.other.menu&&Et(t.cats,a.catnow,a.allhotkey)})),D.onMessage.addListener(Jt),D.onStartup.addListener((async function(){(ze||L)&&N([s[4],s[8],s[14],r],(async e=>{let t=e[s[4]],a=e[s[8]],n=!!e[s[14]][s[10]];t&&a&&n&&X({interactive:!0,callback:e=>{}})})),await Dt()})),$.onChanged.addListener((function(e,a){if("session"===a)return;let n,r=Object.keys(e),i="local"===a,c=!1;(function(e){for(const a in e){if(a===t||!lt.includes(a))return!0;if(a===o){let{newValue:t,oldValue:s}=e[a],n=Object.keys(t||{});for(const e of n)if(t[e]!==s?.[e]&&!lt.includes(e))return!0}}return!1})(e)&&(rt=!0);for(const t of r)(t===l||t===o&&e[t].newValue.menu!==e[t].oldValue?.menu)&&(c=!0),t===o&&e[t].newValue.manual!==e[t].oldValue?.manual&&(n=!!e[t].newValue.manual),i&&!lt.includes(t)&&(mt[t]=e[t].newValue);clearTimeout(nt),nt=setTimeout((()=>{let e=Ke[0];N([s[4],s[8],s[14],e],(async t=>{let a=mt;mt={};let r,o=t[s[4]],d=t[s[8]],u=t[s[14]],f=Object.keys(a),p=u[s[9]],h=!!u[s[10]],m=!!u[s[11]];tt=o+":"+q;for(const e of f)if(R.includes(e)&&!lt.includes(e)){i=!0;break}var g;if(((g=c?[...f,l]:f).includes(we)||g.includes(l)||g.includes(ye))&&Et(),i&&m&&h&&o&&d&&(t[e]?$.session.remove(e):f.length&&(Nt.nS=!0,Nt(a))),i&&f.length&&p>s.indexOf(s[1])&&(f.includes(R[1])||f.includes(R[5]))&&await z()){let e=a[R[1]]?JSON.parse(a[R[1]]):r,t=a[R[5]]||r;if(Ut(t)||Vt(e)){let a={t:"N8VD=",f:"N8VD="};B(a),J({callback:a=>{a.ok&&a._&&zt(e,t,a._)},headers:{"Request-ID":F},url:P.replace("#",W(o))+`_?${H}=${W(a)}`}).catch((e=>{}))}}let b="boolean"==typeof n;if(rt||b){let e=rt;rt=!1,j.query(gt,(t=>{if(!D.lastError)for(const a of t)e&&K(a.id,{type:s[18]}),b&&dt[a.id]&&_t(a.id,n?"-"+G:"")})),rt=!1}}))}),Xe)})),L&&C.onAdded.addListener((function(e){e.permissions.includes(Ee)&&qt()})),(async()=>{await qt();let e=await N(r);Object.keys(e).length&&await async function(e){let t=Date.now(),a=e||0;Math.floor((t-a)/864e5)>=1&&Wt({name:s[0]})}(e.lastAlarm)})();
